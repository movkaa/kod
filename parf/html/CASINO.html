<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>–ú–∞–π–Ω–∫–æ–∏–Ω—ã —Å–ª–æ—Ç-–∏–≥—Ä–∞ + –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Orbitron', sans-serif;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }

  h1 {
    margin: 10px 0;
    font-size: 2.5em;
    text-shadow: 2px 2px 4px #000;
  }

  .actions {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
  }

  .action-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background: linear-gradient(135deg, #ffd700, #ffb700);
    font-size: 1.2em;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    transition: background 0.3s;
  }

  .action-btn:hover {
    background: linear-gradient(135deg, #ffb700, #ffd700);
  }

  .slot-machine {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 30px 0;
    perspective: 1000px;
  }

  .reel {
    width: 120px;
    height: 120px;
    margin: 0 15px;
    background: linear-gradient(135deg, #444, #222);
    border-radius: 15px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3em;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    position: relative;
    overflow: hidden;
    transition: transform 0.5s ease;
  }

  .spin-button {
    background: linear-gradient(135deg, #ffd700, #ffb700);
    border: none;
    padding: 20px 40px;
    font-size: 1.5em;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    margin-bottom: 20px;
    transition: background 0.3s;
  }

  .spin-button:hover {
    background: linear-gradient(135deg, #ffb700, #ffd700);
  }

  .balance {
    font-size: 1.8em;
    margin-bottom: 10px;
  }

  .jackpot {
    font-size: 1.2em;
    margin-bottom: 20px;
    color: #ffd700;
    text-shadow: 1px 1px 2px #000;
  }

  .result {
    font-size: 1.4em;
    margin: 15px 0;
  }

  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–∞–≥–∞–∑–∏–Ω–∞ */
  .modal {
    display: none;
    position: fixed;
    z-index: 999;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
  }

  .modal-content {
    background: #fff;
    color: #222;
    padding: 30px;
    border-radius: 15px;
    max-width: 800px;
    width: 90%;
    max-height: 80%;
    overflow-y: auto;
    position: relative;
  }

  .close-btn {
    position: absolute;
    top: 10px; right: 15px;
    font-size: 1.8em;
    cursor: pointer;
  }

  h2 {
    margin-top: 0;
  }

  .store-items {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
  }

  .item {
    background: linear-gradient(135deg, #eee, #ccc);
    padding: 10px;
    border-radius: 10px;
    width: calc(50% - 20px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .item img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 10px;
  }

  .item h3 {
    margin: 10px 0 5px;
  }

  .buy-btn {
    background: #ffd700;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 5px;
  }

  .buy-btn:hover {
    background: #e6b600;
  }

  /* –°—Ç–∏–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
  .active {
    box-shadow: 0 0 20px #ffd700 inset;
    transform: scale(1.05);
  }

</style>
</head>
<body>

<h1>–ú–∞–π–Ω–∫–æ–∏–Ω—ã —Å–ª–æ—Ç-–∏–≥—Ä–∞ + –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h1>

<div class="actions">
  <button class="action-btn" id="activateBonus">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ–Ω—É—Å</button>
  <button class="action-btn" id="buyExtraSpin">–ö—É–ø–∏—Ç—å –¥–æ–ø. —Å–ø–∏–Ω (50)</button>
  <button class="action-btn" id="openShop">–ú–∞–≥–∞–∑–∏–Ω</button>
</div>

<div class="jackpot">–î–∂–µ–∫–ø–æ—Ç: <span id="jackpotAmount">500</span> –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤</div>

<div class="slot-machine">
  <div class="reel" id="reel1">üçí</div>
  <div class="reel" id="reel2">üçã</div>
  <div class="reel" id="reel3">üîî</div>
</div>

<button class="spin-button" id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å</button>

<div class="balance" id="balance">–ë–∞–ª–∞–Ω—Å: 1000 –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤</div>
<div class="result" id="result"></div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–∞–≥–∞–∑–∏–Ω–∞ -->
<div class="modal" id="shopModal">
  <div class="modal-content">
    <span class="close-btn" id="closeShop">&times;</span>
    <h2>–ú–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä–æ–≤</h2>
    <div class="store-items" id="storeItems"></div>
  </div>
</div>

<script>
  // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
  const reels = [
    ['üçí', 'üçã', 'üîî', 'üçâ', '‚≠ê', 'üçá', 'üçç', 'üçé', 'üíé', 'üé≤'],
    ['üçí', 'üçã', 'üîî', 'üçâ', '‚≠ê', 'üçá', 'üçç', 'üçé', 'üíé', 'üé≤'],
    ['üçí', 'üçã', 'üîî', 'üçâ', '‚≠ê', 'üçá', 'üçç', 'üçé', 'üíé', 'üé≤']
  ];

  let balance = 1000;
  let jackpot = 500;
  let extraSpins = 0;
  let bonusActive = false;

  const reelElements = [
    document.getElementById('reel1'),
    document.getElementById('reel2'),
    document.getElementById('reel3')
  ];

  const balanceDisplay = document.getElementById('balance');
  const resultDisplay = document.getElementById('result');
  const jackpotDisplay = document.getElementById('jackpotAmount');

  const storeItemsContainer = document.getElementById('storeItems');

  const modal = document.getElementById('shopModal');

  // –¢–æ–≤–∞—Ä—ã –º–∞–≥–∞–∑–∏–Ω–∞ ‚Äî –≤–ª–∏—è—é—Ç –Ω–∞ –∏–≥—Ä—É
  const storeItems = [
    { name: '–î–≤–æ–π–Ω–æ–π —à–∞–Ω—Å', price: 300, effect: 'doubleWin', description: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å—ã –Ω–∞ –≤—ã–∏–≥—Ä—ã—à –≤ 2 —Ä–∞–∑–∞ –Ω–∞ –æ–¥–∏–Ω —Å–ø–∏–Ω', img: 'https://images.unsplash.com/photo-1612831455544-24e3c7b7c1f8?ixlib=rb-4.0.1&auto=format&fit=crop&w=200&q=80' },
    { name: '–ë–æ–Ω—É—Å–Ω—ã–π —Å–ø–∏–Ω', price: 50, effect: 'extraSpin', description: '–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–¥–µ–ª–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏–Ω –±–µ—Å–ø–ª–∞—Ç–Ω–æ', img: 'https://images.unsplash.com/photo-1600722869272-8b3f4b7b0f2f?ixlib=rb-4.0.1&auto=format&fit=crop&w=200&q=80' },
    { name: '–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã', price: 400, effect: 'betterSymbols', description: '–ü–æ–≤—ã—à–∞–µ—Ç —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è —Ä–µ–¥–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤', img: 'https://images.unsplash.com/photo-1549924231-f129b911e442?ixlib=rb-4.0.1&auto=format&fit=crop&w=200&q=80' },
    { name: '–ú–∞–≥–Ω–∏—Ç', price: 500, effect: 'magnet', description: '–ü—Ä–∏—Ç—è–≥–∏–≤–∞–µ—Ç —Ä–µ–¥–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –∫ –±–∞—Ä–∞–±–∞–Ω–∞–º', img: 'https://images.unsplash.com/photo-1616223151884-5b2c8e3f4b8e?ixlib=rb-4.0.1&auto=format&fit=crop&w=200&q=80' }
  ];

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
  storeItems.forEach(item => {
    const div = document.createElement('div');
    div.className = 'item';
    div.innerHTML = `
      <img src="${item.img}" alt="${item.name}" />
      <h3>${item.name}</h3>
      <p>–¶–µ–Ω–∞: ${item.price} –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤</p>
      <p>${item.description}</p>
      <button class="buy-btn" onclick="buyItem('${item.name}', ${item.price}, '${item.effect}')">–ö—É–ø–∏—Ç—å</button>
    `;
    storeItemsContainer.appendChild(div);
  });

  // –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞
  document.getElementById('openShop').onclick = () => { modal.style.display = 'flex'; };
  document.getElementById('closeShop').onclick = () => { modal.style.display = 'none'; };
  window.onclick = (event) => { if (event.target == modal) modal.style.display = 'none'; };

  // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫—É–ø–∫–∏
  function buyItem(name, price, effect) {
    if (balance >= price) {
      balance -= price;
      updateBalance();
      alert(`–í—ã –ø—Ä–∏–æ–±—Ä–µ–ª–∏ ${name}!`);
      // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —ç—Ñ—Ñ–µ–∫—Ç
      activateEffect(effect);
    } else {
      alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤!');
    }
  }

  // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  function activateEffect(effect) {
    switch(effect) {
      case 'doubleWin':
        bonusActive = true;
        setTimeout(() => { bonusActive = false; alert('–≠—Ñ—Ñ–µ–∫—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è!'); }, 30000); // 30 —Å–µ–∫
        break;
      case 'extraSpin':
        extraSpins += 1;
        break;
      case 'betterSymbols':
        // –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–¥–∫–∏–µ —Å–∏–º–≤–æ–ª—ã —á–∞—â–µ)
        // –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ —É–≤–µ–ª–∏—á–∏–º —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è —Ä–µ–¥–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
        break;
      case 'magnet':
        // –†–µ–∞–ª–∏–∑—É–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è —Ä–µ–¥–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
        break;
    }
  }

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
  function updateBalance() {
    balanceDisplay.textContent = `–ë–∞–ª–∞–Ω—Å: ${balance} –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤`;
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ —Å —É—á–µ—Ç–æ–º —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  function getRandomSymbol() {
    const rand = Math.random();

    // –®–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è —Ä–µ–¥–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
    if (storeActiveEffects.includes('betterSymbols') && rand < 0.2) {
      return 'üíé'; // —Ä–µ–¥–∫–∏–π —Å–∏–º–≤–æ–ª
    } else if (rand < 0.4) {
      return reels[0][getRandomIndex()];
    } else {
      return reels[0][getRandomIndex()];
    }
  }

  function getRandomIndex() {
    return Math.floor(Math.random() * reels[0].length);
  }

  let storeActiveEffects = [];

  // –í–∫–ª—é—á–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
  function activateEffect(effect) {
    if (!storeActiveEffects.includes(effect)) {
      storeActiveEffects.push(effect);
    }
    if (effect === 'doubleWin') {
      bonusActive = true;
      setTimeout(() => { 
        bonusActive = false; 
        storeActiveEffects = storeActiveEffects.filter(e => e !== 'doubleWin'); 
        alert('–≠—Ñ—Ñ–µ–∫—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è!'); 
      }, 30000);
    }
  }

  // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –±–∞—Ä–∞–±–∞–Ω–æ–≤
  function spinReel(reelIndex) {
    return new Promise((resolve) => {
      let count = 0;
      const interval = setInterval(() => {
        const symbol = getRandomSymbol();
        reelElements[reelIndex].textContent = symbol;
        count++;
        if (count > 20) {
          clearInterval(interval);
          resolve(symbol);
        }
      }, 50 + reelIndex * 50);
    });
  }

  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
async function spin() {
  if (balance < 10) {
    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤ –¥–ª—è —Å—Ç–∞–≤–∫–∏!');
    return;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
  let currentBonus = bonusActive ? 2 : 1;

  // –†–∞—Å—á–µ—Ç —à–∞–Ω—Å–æ–≤
  const chance = Math.random();

  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
  let isWin = false;
  let winMultiplier = 1;

  if (chance < 0.3) {
    // 30% —à–∞–Ω—Å –≤—ã–∏–≥—Ä–∞—Ç—å
    isWin = true;
    winMultiplier = Math.random() < 0.5 ? 2 : 3;
  } else if (chance < 0.1) {
    // 10% —à–∞–Ω—Å –¥–∂–µ–∫–ø–æ—Ç–∞
    isWin = true;
    winMultiplier = 10;
  }

  // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É
  balance -= 10;
  updateBalance();

  // –í—Ä–∞—â–µ–Ω–∏–µ –±–∞—Ä–∞–±–∞–Ω–æ–≤
  const results = await Promise.all([
    spinReel(0),
    spinReel(1),
    spinReel(2)
  ]);

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤
  const allEqual = results.every(r => r === results[0]);

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤—ã–∏–≥—Ä—ã—à
  if (allEqual && results[0] !== undefined) {
    if (isWin) {
      const winAmount = 50 * winMultiplier * currentBonus;
      balance += winAmount;
      if (winMultiplier === 10) {
        // –¥–∂–µ–∫–ø–æ—Ç
        balance += jackpot;
        alert(`üéâ –î–∂–µ–∫–ø–æ—Ç! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount + jackpot} –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤!`);
        jackpot = 500; // —Å–±—Ä–æ—Å –¥–∂–µ–∫–ø–æ—Ç–∞
        jackpotDisplay.textContent = jackpot;
      } else {
        alert(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤!`);
      }
    } else {
      // –æ–±—ã—á–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à
      const winAmount = 20 * currentBonus;
      balance += winAmount;
      alert(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${winAmount} –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤!`);
    }
  } else {
    // –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
    // –í–æ–∑–º–æ–∂–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å "–º–∞–≥–Ω–∏—Ç" –∏–ª–∏ "–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã", —á—Ç–æ–±—ã –≤–ª–∏—è—Ç—å
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–Ω—É—Å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    if (Math.random() < 0.1) {
      // —Å–ª—É—á–∞–π–Ω—ã–π –±–æ–Ω—É—Å
      alert('–í—ã –Ω–∞—à–ª–∏ –±–æ–Ω—É—Å! –ü–æ–ª—É—á–∏—Ç–µ +5 –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤.');
      balance += 5;
    }
  }

  updateBalance();
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
document.getElementById('spinBtn').addEventListener('click', spin);
document.getElementById('activateBonus').onclick = () => {
  activateEffect('doubleWin');
  alert('–≠—Ñ—Ñ–µ–∫—Ç –¥–≤–æ–π–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –∞–∫—Ç–∏–≤–µ–Ω 30 —Å–µ–∫!');
};
document.getElementById('buyExtraSpin').onclick = () => {
  if (balance >= 50) {
    balance -= 50;
    extraSpins++;
    updateBalance();
    alert('–í—ã –∫—É–ø–∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏–Ω!');
  } else {
    alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–∞–π–Ω–∫–æ–∏–Ω–æ–≤!');
  }
};

</script>
</body>
</html>